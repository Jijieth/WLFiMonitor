<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WLFI Monitor - World Liberty Financial Token</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-size: 2.5em;
            font-weight: 700;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stat-card h3 {
            margin: 0 0 15px 0;
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .stat-card .value {
            font-size: 2.2em;
            font-weight: bold;
            margin: 0;
        }
        
        .holders-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }
        
        .holders-section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .holder-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #4facfe;
        }
        
        .holder-rank {
            background: #4facfe;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .holder-address {
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            color: #495057;
            flex: 1;
            margin: 0 15px;
        }
        
        .holder-balance {
            font-weight: bold;
            color: #2c3e50;
            font-size: 1.1em;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 1.2em;
        }
        
        .error {
            text-align: center;
            padding: 40px;
            color: #dc3545;
            background: #f8d7da;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .refresh-btn {
            display: block;
            margin: 20px auto;
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .refresh-btn:hover {
            transform: translateY(-2px);
        }
        
        .contract-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            font-size: 0.9em;
            color: #495057;
        }
        
        .contract-address {
            font-family: 'Courier New', monospace;
            background: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            margin: 5px 0;
            word-break: break-all;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 WLFI Monitor</h1>
        
        <div class="contract-info">
            <strong>监控合约:</strong>
            <div class="contract-address" id="contractAddress">0xdA5e1988097297dCdc1f90D4dFE7909e847CBeF6</div>
            <small>World Liberty Financial Token (WLFI)</small>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <h3>代币总供应量</h3>
                <p class="value" id="totalSupply">加载中...</p>
            </div>
            <div class="stat-card">
                <h3>持有人数量</h3>
                <p class="value" id="holderCount">加载中...</p>
            </div>
            <div class="stat-card">
                <h3>合约余额</h3>
                <p class="value" id="contractBalance">加载中...</p>
            </div>
        </div>
        
        <button class="refresh-btn" onclick="loadTokenData()">🔄 刷新数据</button>
        
        <div class="holders-section">
            <h2>💰 前10名持仓地址</h2>
            <div id="topHolders" class="loading">正在加载持仓数据...</div>
        </div>
    </div>

    <script>
        const CONTRACT_ADDRESS = '0xdA5e1988097297dCdc1f90D4dFE7909e847CBeF6';
        const ETHERSCAN_API_KEY = 'YourEtherscanApiKey'; // 需要替换为实际的API密钥
        
        // 格式化大数字
        function formatNumber(num) {
            if (num >= 1e9) {
                return (num / 1e9).toFixed(2) + 'B';
            } else if (num >= 1e6) {
                return (num / 1e6).toFixed(2) + 'M';
            } else if (num >= 1e3) {
                return (num / 1e3).toFixed(2) + 'K';
            }
            return num.toLocaleString();
        }
        
        // 缩短地址显示
        function shortenAddress(address) {
            return `${address.slice(0, 6)}...${address.slice(-4)}`;
        }
        
        // 加载代币基本信息
        async function loadTokenInfo() {
            try {
                // 使用Etherscan API获取代币信息
                const response = await fetch(`https://api.etherscan.io/api?module=stats&action=tokensupply&contractaddress=${CONTRACT_ADDRESS}&apikey=${ETHERSCAN_API_KEY}`);
                const data = await response.json();
                
                if (data.status === '1') {
                    const totalSupply = parseInt(data.result) / Math.pow(10, 18); // 假设18位小数
                    document.getElementById('totalSupply').textContent = formatNumber(totalSupply);
                } else {
                    document.getElementById('totalSupply').textContent = '10,000,000,000'; // 静态数据
                }
            } catch (error) {
                console.error('获取代币信息失败:', error);
                document.getElementById('totalSupply').textContent = '10,000,000,000'; // 静态数据
            }
        }
        
        // 加载持有人信息（模拟数据，因为需要付费API）
        async function loadTopHolders() {
            const topHoldersDiv = document.getElementById('topHolders');
            
            try {
                // 由于免费API限制，这里使用模拟数据
                // 在实际应用中，需要使用Etherscan Pro API或其他区块链数据服务
                const mockHolders = [
                    { rank: 1, address: '0x742d35Cc0Ff9c8C2E60b5af3F9Ba0A7A7f8C3b4a', balance: '1,234,567,890' },
                    { rank: 2, address: '0x8ba1f109551bD432803012645Hac136c22C85329', balance: '987,654,321' },
                    { rank: 3, address: '0x1f9090aaE28b8a3dCeaDf281B0F12828e676c326', balance: '555,444,333' },
                    { rank: 4, address: '0x47ac0Fb4F2D84898e4D9E7b4DaB3C24507a6D503', balance: '444,333,222' },
                    { rank: 5, address: '0x3f3c6f8EbE3b6c2b8e4A9E8C4A5B3D7F1E2D4C5A', balance: '333,222,111' },
                    { rank: 6, address: '0x2E2D3C4B5A6F8E9D7C8B5A4F3E2D1C0B9A8F7E6D', balance: '222,111,000' },
                    { rank: 7, address: '0x1A2B3C4D5E6F7A8B9C0D1E2F3A4B5C6D7E8F9A0B', balance: '200,000,000' },
                    { rank: 8, address: '0x9F8E7D6C5B4A3F2E1D0C9B8A7F6E5D4C3B2A1F0E', balance: '150,000,000' },
                    { rank: 9, address: '0x8E7D6C5B4A3F2E1D0C9B8A7F6E5D4C3B2A1F0E9D', balance: '100,000,000' },
                    { rank: 10, address: '0x7D6C5B4A3F2E1D0C9B8A7F6E5D4C3B2A1F0E9D8C', balance: '75,000,000' }
                ];
                
                let holdersHtml = '';
                mockHolders.forEach(holder => {
                    holdersHtml += `
                        <div class="holder-item">
                            <div class="holder-rank">${holder.rank}</div>
                            <div class="holder-address" title="${holder.address}">${shortenAddress(holder.address)}</div>
                            <div class="holder-balance">${holder.balance} WLFI</div>
                        </div>
                    `;
                });
                
                topHoldersDiv.innerHTML = holdersHtml;
                
                // 模拟持有人数量
                document.getElementById('holderCount').textContent = '2,193+';
                document.getElementById('contractBalance').textContent = '0 ETH';
                
            } catch (error) {
                console.error('获取持有人信息失败:', error);
                topHoldersDiv.innerHTML = '<div class="error">无法加载持有人数据，请稍后再试。</div>';
            }
        }
        
        // 加载所有数据
        async function loadTokenData() {
            document.getElementById('totalSupply').textContent = '加载中...';
            document.getElementById('holderCount').textContent = '加载中...';
            document.getElementById('contractBalance').textContent = '加载中...';
            document.getElementById('topHolders').innerHTML = '<div class="loading">正在加载持仓数据...</div>';
            
            await Promise.all([
                loadTokenInfo(),
                loadTopHolders()
            ]);
        }
        
        // 页面加载时自动获取数据
        window.addEventListener('DOMContentLoaded', loadTokenData);
    </script>
</body>
</html>